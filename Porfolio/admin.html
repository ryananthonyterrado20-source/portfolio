<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@coreui/icons/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
   <nav class="navbar admin-nav">
    <div class="logo">Admin Panel</div>
    <!-- Pinalitan ang Logout ng View Site -->
    <button id="logout-btn" class="btn-download" style="border-color: var(--accent); color: var(--accent);">
        <i class="cil-external-link"></i> View Website
    </button>
</nav>

    <div class="admin-container">
        
        <!-- Profile Section -->
        <div class="admin-section">
            <h3><i class="cil-user"></i> Edit Profile</h3>
            <form id="profile-form">
                
                <!-- Image Upload -->
                <div class="form-group" style="background: #1F2229; padding: 15px; border-radius: 8px; border: 1px dashed #3a3f4b;">
                    <label>Profile Picture</label>
                    <div style="display: flex; align-items: center; gap: 20px; margin-top: 10px;">
                        <img id="avatar-preview" src="" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 2px solid var(--accent);">
                        <div style="flex-grow: 1;">
                            <input type="file" id="p-avatar-file" accept="image/*" style="width: 100%;">
                            <input type="hidden" id="p-avatar-url"> 
                            <small style="color: gray;">Upload a new photo to replace current one.</small>
                        </div>
                    </div>
                </div>

                <div class="form-grid">
                    <div>
                        <label>Name</label>
                        <input type="text" id="p-name">
                    </div>
                    <div>
                        <label>Role</label>
                        <input type="text" id="p-role">
                    </div>
                </div>
                <div class="form-grid">
                    <div>
                        <label>Email (Contact & Gmail)</label>
                        <input type="text" id="p-email">
                    </div>
                    <div>
                        <label>Location</label>
                        <input type="text" id="p-location">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Website URL (e.g. www.ryantherrado.com)</label>
                    <input type="text" id="p-website">
                </div>
                <div class="form-group">
                    <label>Bio Heading</label>
                    <input type="text" id="p-bio-heading">
                </div>
                <div class="form-group">
                    <label>Bio Description</label>
                    <textarea id="p-bio-desc" rows="4"></textarea>
                </div>

                <!-- NEW: STATS SECTION -->
                <div class="form-section-title" style="margin-top: 30px; margin-bottom: 15px; color: var(--accent); border-bottom: 1px solid #3a3f4b;">Stats Numbers</div>
                <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr;">
                    <div>
                        <label>Languages</label>
                        <input type="text" id="p-stat-lang" placeholder="4+">
                    </div>
                    <div>
                        <label>Projects</label>
                        <input type="text" id="p-stat-proj" placeholder="10+">
                    </div>
                    <div>
                        <label>Exp. Years</label>
                        <input type="text" id="p-stat-exp" placeholder="3+">
                    </div>
                </div>

                <!-- Social Links -->
                <div class="form-section-title" style="margin-top: 30px; margin-bottom: 15px; color: var(--accent); border-bottom: 1px solid #3a3f4b;">Social Links</div>
                <div class="form-grid">
                    <div>
                        <label><i class="cib-facebook"></i> Facebook URL</label>
                        <input type="text" id="p-fb">
                    </div>
                    <div>
                        <label><i class="cib-telegram"></i> Telegram URL</label>
                        <input type="text" id="p-tg">
                    </div>
                </div>
                <div class="form-grid">
                    <div>
                        <label><i class="cib-github"></i> GitHub URL</label>
                        <input type="text" id="p-gh">
                    </div>
                </div>

                <button type="submit" class="btn-save" style="margin-top: 20px; width: 100%;">Save Profile Changes</button>
            </form>
        </div>

        <!-- Skills Section -->
        <div class="admin-section">
            <h3><i class="cil-star"></i> Manage Skills</h3>
            <div class="add-box">
                <h4>Add New Skill</h4>
                <form id="skill-form" class="inline-form">
                    <input type="text" id="s-name" placeholder="Name (e.g. React)" required>
                    <input type="text" id="s-icon" placeholder="CoreUI Class (e.g. cib-react)" required>
                    <input type="color" id="s-color" value="#ffffff" required>
                    <button type="submit" class="btn-add">Add</button>
                </form>
                <small style="color: gray;">Use <a href="https://coreui.io/icons/" target="_blank" style="color: var(--accent);">CoreUI Icons</a> classes.</small>
            </div>
            <div class="list-container" id="admin-skills-list"></div>
        </div>

        <!-- Projects Section -->
        <div class="admin-section">
            <h3><i class="cil-folder-open"></i> Manage Projects</h3>
            <div class="add-box">
                <h4>Add New Project</h4>
                <form id="project-form">
                    <input type="text" id="pr-title" placeholder="Title" required>
                    <textarea id="pr-desc" placeholder="Desc" required></textarea>
                    
                    <div style="margin-bottom: 10px;">
                        <label style="font-size: 0.8rem; color: #aaa;">Project Image</label>
                        <input type="file" id="pr-img-file" accept="image/*">
                        <input type="text" id="pr-img-url" placeholder="OR paste Image URL" style="margin-top: 5px;">
                    </div>

                    <input type="text" id="pr-link" placeholder="Project Link">
                    <div class="form-grid">
                        <input type="text" id="pr-cat" placeholder="Category">
                        <input type="text" id="pr-date" placeholder="Date">
                    </div>
                    <button type="submit" class="btn-add">Add Project</button>
                </form>
            </div>
            <div class="list-container" id="admin-projects-list"></div>
        </div>

    </div>
    <script type="module" src="admin.js"></script>
</body>
</html>